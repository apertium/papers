%
% File nodalida2015.tex
%
% Contact beata.megyesi@lingfil.uu.se
%
% Based on the instruction file for EACL 2014
% which in turn was based on the instruction files for previous 
% ACL and EACL conferences.


\documentclass[11pt]{article}
\usepackage[T2A,T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian,english]{babel}

\usepackage{times}
\usepackage{latexsym}
\usepackage{fixltx2e} %allows subscripts
%\usepackage{mathptmx}
%\usepackage{txfonts}
\usepackage{url}
\special{papersize=210mm,297mm} % to avoid having to use "-t a4" with dvips 
%\setlength\titlebox{6.5cm}  % You can expand the title box if you really have to

\usepackage{nodalida2015}

\usepackage{linguex}

\newcommand{\rus}[1]{\foreignlanguage{russian}{#1}}

\newcommand{\ft}[1]{\marginpar{\scriptsize F: #1}} % Fran's comments
\newcommand{\rr}[1]{\marginpar{\scriptsize R: #1}} % Rob's comments
\newcommand{\dm}[1]{\marginpar{\scriptsize D: #1}} % Detmar's comments
\newcommand{\lj}[1]{\marginpar{\scriptsize L: #1}} % Laura's comments

\title{Automatic word stress annotation of Russian running text (max 8 pages)}

\author{Author1 \\
  Affiliation / Address line 1 \\
  Affiliation / Address line 2 \\
  Affiliation / Address line 3 \\
  {\tt email@domain.com} \\\And
  Author2 \\
  Affiliation / Address line 1 \\
  Affiliation / Address line 2 \\
  Affiliation / Address line 3 \\
  {\tt email@domain.com} \\}

\date{2015}

\begin{document}
\maketitle
\begin{abstract}
  We evaluate the effectiveness of tools we developed for automatically annotating 
  word stress in Russian running text. Given an adequate lexicon with specified stress, the
  primary obstacle for correct stress placement is disambiguating homographic forms. Using a
  Constraint Grammar, we achieve a X\% improvement over the baseline undisambiguated performance.
\end{abstract}

%\section{Credits}
%
%The template had a credits section for the history of the template, but we don't need
%a Credits section, right?

\section{Introduction}

Russian word stress is variable. The inflecting word classes include complex patterns of
shifting stress, and a lexeme's stress pattern cannot be predicted from surface forms.
Although lexical stress and its attendant vowel reduction are a prominent feature of
spoken Russian, standard written Russian does not typically mark word stress.\footnote{
Texts intended for native speakers sometimes mark stress on words that cannot be 
disambiguated through context, although this is somewhat rare.} Without information about lexical 
stress position, 
correctly converting written Russian text to speech is impossible. This is true both for humans
(e.g. foreign language students) and computers (e.g. text-to-speech).

We identify three different types of word stress ambiguity. \emph{Intraparadigmatic}
stress ambiguity refers
to homographic wordforms belonging to the same lexeme, as shown in \ref{ex:intrahom}. 

\ex. Intraparadigmatic homographs \label{ex:intrahom}
\a. \rus{т\'{е}ла} \emph{t\'{e}la} `body.\textsubscript{SG-GEN}' \label{ex:bodySGGEN}
\b. \rus{тел\'{а}} \emph{tel\'{a}} `body.\textsubscript{PL-NOM}' \label{ex:bodyPLNOM}

The remaining two types of stress ambiguity occur between lexemes. \emph{Morphosyntactically
congruent} stress ambiguity occurs between homographs that belong to separate lexemes, 
and whose morphosyntactic values are identical, as shown in Table~\ref{table:MScongruent}. 

\begin{table}
\begin{center}
\begin{tabular}{c|ll}
\bf Number-Case & \bf `castle' & \bf `lock' \\
\hline
\texttt{SG-NOM} & \rus{з\'{a}мок} & \rus{зам\'{о}к} \\
\texttt{SG-GEN} & \rus{з\'{a}мка} & \rus{замк\'{а}} \\
\texttt{PL-NOM} & \rus{з\'{a}мки} & \rus{замк\'{и}} \\
\texttt{PL-GEN} & \rus{з\'{a}мков} & \rus{замк\'{о}в} \\
... & \hskip 1em ... & \hskip 1em ... \\
\end{tabular}
\end{center}
\caption{ \label{table:MScongruent} Morphosyntactically congruent homographs. }
\end{table}

\emph{Morphosyntactically incongruent} stress ambiguity occurs between homographs
that belong to separate lexemes, and whose morphosyntactic values are different, as shown in 
\ref{ex:MSincongruent}.

\ex. Morphosyntactically incongruent homographs \label{ex:MSincongruent}
\a. \rus{попад\'{а}ть} \emph{popadát'} `fall.\textsubscript{INF-IPFV}' \\
    \rus{поп\'{а}дать} \emph{popádat'} `fall.\textsubscript{INF-PFV}'
\b. \rus{узнаёт} \emph{uznaët} `finds out.\textsubscript{PRS-IPFV-3SG}' \\
    \rus{узн\'{а}ет} \emph{uznáet} `finds out.\textsubscript{FUT-PFV-3SG}'
\c. \rus{н\'{а}шей} \emph{nášej} `our.\textsubscript{F-SG-GEN/DAT/LOC...}'\\
    \rus{наш\'{е}й} \emph{našéj} `sew on.\textsubscript{IMP-2SG}'
\d. \rus{дор\'{о}га} \emph{doróga} `road.\textsubscript{N-F-SG-NOM}'\\
    \rus{дорог\'{а}} \emph{dorogá} `dear.\textsubscript{ADJ-F-SG-PRED}'

It should be noted that not all morphosyntactic ambiguity leads to stress ambiguity. For example, all inflecting modifiers have the same form for F-SG-GEN, F-SG-LOC, F-SG-DAT and 
F-SG-INS. We refer to this as \emph{stress-irrelevant} ambiguity, since all readings have
the same stress placement. Stress-irrelevant ambiguity can be intraparadigmatic and/or interlexical. 

Different types of stress ambiguity are overcome by different information. Detailed 
part-of-speech tagging can determine the stress of intraparadigmatic homographs and
morphosyntactically incongruent homographs, whereas word sense disambiguation can 
determine the stress position of morphosyntactically congruent homographs. In the case of
running text in Russian, most stress placement ambiguity is rooted in morphosyntactic
ambiguity, so in this study we focus on the role of part-of-speech tagging in improving
automatic stress placement, leaving word sense disambiguation to future work.

\subsection{Background and Task Definition}

Automatic stress placement in Russian is similar to Diacritic Restoration, a task
which has received increasing interest over the last 20 years. Generally speaking, diacritics
disambiguate otherwise homographic wordforms, so missing diacritics can
complicate many NLP tasks, such as text-to-speech. For example, speakers 
of Czech may type emails and other communications
without standard diacritics. In order to generate speech from these texts, they must first be 
normalized by restoring diacritics. A slightly different
situation arises with Arabic and Hebrew, since standard orthography lacks vowel diacritics
altogether. For such languages, the `restoration' of vowel diacritics results in less
ambiguity than in standard orthography. For languages with inherently ambiguous orthography,
it may be more precise to refer to this as `diacritic enhancement', since it produces
text that is less ambiguous than the standard language. In this sense, Russian orthography
is similar to Arabic and Hebrew, since its vowel qualities are underspecified in
standard orthography.

Many studies of Russian text-to-speech and automatic speech recognition make note of the 
difficulties caused by the shortcomings of their stress-marking resources (e.g. \cite{krivnova_1998}), but very few studies have targeted stress-marking itself, and they tend to
focus on placing stress on unknown words, with almost no attention to the problems that
arise with known words. For example, 
\cite{Xomicevic_2008} developed a set of heuristics for guessing stress placement on 
unknown words in Russian. More recently, \cite{hall_sproat_russian_2013} trained a maximum entropy
model on a dictionary of Russian words, achieving 83.9\% accuracy for stress on unknown words 
and 98.7\% on known words. One major shortcoming of evaluating on wordlists is 
that they do not reflect wordform frequency.
Many of the most problematic stress ambiguities in Russian occur in 
high-frequency wordforms\rr{compute the difference in stress
ambiguity between wordform lists and running text, i.e. what percentage of tokens have ambiguous
stress.}, so evaluations based on wordlists - as opposed to running
text - have inflated results. Furthermore, working with running text allows for the
possibility of disambiguating homographs based on syntactic context.

So far, the implicit target application the few studies related to automatic stress placement
in Russian has been text-to-speech and automatic speech recognition. However, the target 
application of our stress
annotator is a different domain: language learning. Since standard Russian does not contain 
stress-markings, learners are frequently unable to pronounce unknown words correctly without
referencing a dictionary or similar resources. In the context
of language learning, marking stress incorrectly is arguably worse than not marking it
at all. Because of this, we want our stress annotator to be able to abstain from marking
stress on words that it is unable to resolve with high confidence.

\begin{table*}[t]
  \centering
  \begin{tabular}{r|c|c}
    & \rus{кость}-N-F-SG-GEN\hskip 1em\rus{к\'{о}сти} & \rus{кость}-N-F-SG-GEN\hskip 1em\rus{к\'{о}сти} \\
    & \rus{кость}-N-F-SG-DAT\hskip 1em\rus{к\'{о}сти} & \rus{кость}-N-F-SG-DAT\hskip 1em\rus{к\'{о}сти} \\
    & \rus{костить}-V-IPFV-IMP\hskip 1em\rus{кост\'{и}} & \\
    \hline
    {\small {\tt bare}} & \rus{кости} & \rus{кости} \\
    {\small {\tt safe}} & \rus{кости} & \rus{к\'{о}сти} \\
    {\small {\tt guess}} & \rus{к\'{о}сти} or \rus{кост\'{и}} & \rus{к\'{о}сти}\\
    {\small {\tt guessFreq}} & \rus{к\'{о}сти} & \rus{к\'{о}сти}
  \end{tabular}
  \caption{Example output of each stress placement approach, given a particular set of readings}
  \label{tab:conditions}
\end{table*}

\subsection{Stress Corpus}

Russian texts with marked word stress are relatively rare, except in materials
for language learners, which are predominantly proprietary. Our corpus was collected from
free texts on Russian language-learning websites.\footnote{For a list of URL's, please 
contact the authors.} This small corpus (N=7689) is representative of texts 
that learners of Russian are likely to encounter in their studies. These texts 
include excerpts from well-known literary works, as well as dialogs and 
prose and individual sentences that were written for learners.

Unfortunately, the general practice for marking stress in Russian is to
\emph{not} mark stress on monosyllabic tokens, effectively assuming that
all monosyllabics are stressed. However, this approach 
is not well-motivated. Many words -- both monosyllabic and multisyllabic -- are 
unstressed, especially among prepositions, conjunctions, and particles.
\rr{multisyllabics that can be unstressed: \rus{через, между}} Furthermore, there are many
high-frequency monosyllabic homographs that can be either stressed or unstressed, 
depending on their part of speech, or particular collocations. Clearly, for
such words, one cannot assume that they are stressed on the basis of their syllable count.

Based on these considerations, we built our tools to mark stress on every
word, both monosyllabic and multisyllabic. However, because our gold corpus texts do not
mark stress on monosyllabic words, we cannot evaluate our annotation of those words.

\section{Automatic Stress Placement}

State-of-the-art morphological analysis in Russian is based on finite-state
technology.\footnote{add footnote or citations for Dialog, mystem, etc.} To our knowledge,
no open-source resources are available for analyzing and generating stressed wordforms.
Therefore, we developed free and open-source finite-state tools capable of analyzing and
generating stressed wordforms, based on the well-known 
\emph{Grammatical Dictionary of Russian} \cite{Zaliznjak-77}. A Finite-State 
Transducer\footnote{Using two-level 
morphology, xfst/hfst, blah, blah, blah} (FST) generates all possible morphosyntactic readings
of each wordform, and a constraint grammar\footnote{vislcg3, blah blah} then removes
some extra readings based on syntactic context. The ultimate success of our stress placement
system depends on the performance of the Constraint Grammar. Ideally, the Constraint Grammar would
successfully remove all but the correct reading for each token, but in practice some
tokens still have more than one reading remaining. Therefore,
we also evaluate various approaches to deal with the remaining ambiguity,
as described in the following paragraph and Table~\ref{tab:conditions}.

The {\small {\tt bare}} approach is to not mark stress on words with more than one reading.
The {\small {\tt safe}} approach is to mark stress only on
tokens whose morphosyntactic ambiguity is stress-irrelevant. The {\small {\tt guess}}
approach is to randomly select one of the available readings, and abstain if no readings
are available. The {\small {\tt guessFreq}} approach is to select the reading that is most frequent.
\footnote{Frequency data taken from a separate hand-disambiguated corpus.} If none of the readings is found in the corpus, then it selects the reading
with the tag sequence (lemma removed) that is most frequent in our corpus. If the tag sequence is not found
in our corpus, then it backs off to the  {\small {\tt guess}} algorithm. Note that for tokens with
stress-irrelevant ambiguity, {\small {\tt guess}} and {\small {\tt guessFreq}} produce
the same result as the {\small {\tt safe}} method.

So far, the approaches discussed are
dependent on the availability of readings from the FST. Two final approaches address unknown tokens.
The {\small {\tt guessSyll}} and {\small {\tt guessFreqSyll}} approaches are identical to 
{\small {\tt guess}} and {\small {\tt guessFreq}}, respectively,
except that for unknown tokens, they places the stress near the end of the stem.\footnote{Determining 
which vowel is stem-final
is itself a difficult task. Our algorithm merely places the stress on the last vowel that is 
followed by a consonant.} \rr{Explain why stem-final is a good guess (and cite someone?)}

For our baseline, we take the output of our morphological analyzer (without the Constraint 
Grammar) in combination with the {\small {\tt bare}}, {\small {\tt safe}}, 
{\small {\tt guess}} and {\small {\tt guessFreq}} approaches.

We also compare our outcomes with the RussianGram\footnote{http://russiangram.com/} plugin 
for the Google Chrome web browser. RussianGram is not open-source, so we
can only guess what technologies support the service. In any case, it provides a
meaningful reference point for the success of each of the methods described above.

\section{Results}

\begin{table*}[t]
  \centering
  \begin{tabular}{r | r r r | r r }
    approach & accuracy\% & error\% & abstention\% & totTry\% & totFail\% \\
    \hline
    \hline
    {\small {\tt noCGbare}} & 30.43 & 0.17 & 69.39 & 30.61 & 69.57 \\
    {\small {\tt noCGsafe}} & 90.07 & 0.49 & 9.44 & 90.56 & 9.93 \\
    {\small {\tt noCGguess}} & 94.34 & 3.36 & 2.30 & 97.70 & 5.66 \\
    {\small {\tt noCGguessFreq}} & 95.53 & 2.59 & 1.88 & 98.12 & 4.47 \\
    {\small {\tt noCGguessSyll}} & 94.99 & 4.05 & 0.96 & 99.04 & 5.01 \\
    {\small {\tt noCGguessFreqSyll}} & 95.83 & 3.46 & 0.72 & 99.28 & 4.17 \\
    \hline
    {\small {\tt CGbare}} & 45.78 & 0.44 & 53.78 & 46.22 & 54.22 \\
    {\small {\tt CGsafe}} & 93.21 & 0.74 & 6.05 & 93.95 & 6.79 \\
    {\small {\tt CGguess}} & 95.50 & 2.59 & 1.90 & 98.10 & 4.50 \\
    {\small {\tt CGguessFreq}} & 95.73 & 2.40 & 1.88 & 98.12 & 4.27 \\
    {\small {\tt CGguessSyll}} & 95.92 & 3.33 & 0.74 & 99.26 & 4.08 \\
    {\small {\tt CGguessFreqSyll}} & 96.15 & 3.14 & 0.72 & 99.28 & 3.85 \\
    \hline
    {\small {\tt RussianGram}} & 90.09 & 0.79 & 9.12 & 90.88 & 9.91
  \end{tabular}
  \caption{Results of stress placement task evaluation. (N = 4048)}
  \label{tab:results}
\end{table*}

Single-syllable words and words that are unstressed in the gold standard were
not evaluated for reasons discussed above, leaving 4048 tokens for evaluation.
Since our approach is lexicon-based, some of our results should be interpreted
with respect to how many of the stressed wordforms in the gold standerd corpus
can be found in the finite-state transducer. We refer to this measure as 
\emph{recall}. Out of 4048 tokens, 3949 were 
found in the FST, which is equal to 97.55\%.
This number represents the ceiling for methods relying on the FST.
Higher scores are only achievable by expanding the FST or by using syllable-
guessing algorithms. After running the Constraint Grammar, recall was 97.35\%, 
a reduction of 0.20\%.

Results were compiled for each of the 13 approaches discussed above: 
\emph{without} the Constraint Grammar ({\small {\tt noCG}}) x 6 approaches, 
\emph{with} the Constraint Grammar ({\small {\tt CG}}) x 6 approaches, 
and RussianGram ({\small {\tt RussianGram}}). 
Each token was categorised as either Failures to correctly place stress were 
split into two categories: errors and abstentions. 
If the stress tool outputs a stressed wordform, and it is incorrect, then it is
counted as an `error'. If the stress tool outputs an unstressed wordform, then
it is counted as an `abstention'. The sum of the errors and abstentions is referred
to as `totFail'. The sum of correct attempts and `errors' is referred to as `totTry'.
Results are given in Table~\ref{tab:results}.

\rr{Are differences significant?}

The {\small {\tt noCGbare}} approach achieves a baseline accuracy of
30.43\%, so roughly two thirds of the tokens in our corpus are
morphosyntactically ambiguous. The error rate of 0.17\% primarily represents 
forms whose stress position varies from speaker to speaker (e.g.
\rus{зав\'{и}л\'{и}сь} \emph{zav\'{i}l\'{i}s'}), errors in the gold corpus (e.g. 
\rus{вер\'{и}м} \emph{ver\'{i}m}) . The {\small {\tt noCGsafe}} approach
achieves a 60\% improvement in accuracy (90.07\%), which means that 89.39\% of 
morphosyntactic ambiguity on our corpus is stress-irrelevant. Interestingly, the 
RussianGram web service achieves results that are very close 
to the {\small {\tt noCGsafe}} approach, so it would appear that it 
utilizes a similar approach.

Since the ceiling recall for the FST is 97.55\%, and since the 
{\small {\tt noCGsafe}} approach achieves 90.07\%, the maximum improvement 
that a Constraint Grammar could theoretically achieve is 7.48\%. A comparison
of {\small {\tt noCGsafe}} and {\small {\tt noCGsafe}} reveals an improvement
of 3.14\%\footnote{one of the authors considers it significant that the CG 
achieves an improvement roughly equivalent to $\pi$. :)}, which is about 42\%
of the way to the ceiling.\rr{...while raising the error rate 0.25\%}

The {\small {\tt CGguess}} and {\small {\tt CGguessFreq}} approaches are also 
limited by the 97.55\% ceiling from the FST, and their accuracies achieve
improvements of 2.29\% and 2.52\%, respectively, over {\small {\tt CGsafe}}.
However, these gains come at the cost of error rates as much as 3.5 times 
higher than {\small {\tt CGsafe}}: +1.85\% and +1.66\%, respectively. It is
not surprising that {\small {\tt CGguessFreq}} has higher accuracy and a lower
error rate than {\small {\tt CGguess}}, since frequency-based guesses are by
definition more likely to occur. The frequency data were taken from a very 
small corpus, and it is likely that frequency from a larger corpus would yield 
better results.

The two {\small {\tt Syll}} approaches were designed to make a blind guess on 
every wordform that is not found in the FST, which would ideally result in an
abstention rate of 0\%. However, the abstention rates of approximately 0.7\%
are the result of the fact that some words in the FST, especially proper nouns, 
had not been assigned stress. Because the FST outputs a form -- albeit unstressed 
-- the {\small {\tt Syll}} algorithm is not called. This means that 
{\small {\tt Syll}} is only guessing on about 2\% of the tokens. The improvement
on overall accuracy from {\small {\tt CGguessFreq}} to 
{\small {\tt CGguessFreqSyll}} is 0.42\%, which means that the 
{\small {\tt Syll}} was accurate 21\% of the time.

\begin{itemize}
\item Examine errors and categorize/refute them.
\end{itemize}

\section{Discussion}

One of the main points of this paper is to highlight the importance of 
syntactic context in the Russian wordstress placement task. \cite{hall_sproat_russian_2013} 
achieve 98.7\% accuracy on stress placement of individual wordforms. To 
understand this result, it should be remembered that Russian has a considerable
number of words that are ambiguous with regard to stress. Based on the surface 
forms in our FST (which is based on the same dictionary used for 
\cite{hall_sproat_russian_2013}), we calculate that only 29~518 (1.05\%) 
of the 2~804~492 wordforms contained in our FST are stress-ambiguous. \rr{These 
stress-ambiguous wordforms have an average of 2.01 possible stress positions.} 
Compare this with the finding of our experiment, that in running 
text, at least 7.5\% of the tokens are stress-ambiguous. This is at least partly 
because many of 
the lexemes with shifting stress patterns are high-frequency. Any system that
cannot leverage syntactic context to disambiguate these wordforms cannot 
achieve accuracy above 92.5\% without making an higher number of errors.
Since the task of wordstress placement is virtually always performed on
running text, it seems prudent to make use of surrounding information.
The experiment described in this paper demonstrates that a Constraint Grammar
can effectively improve the accuracy of a stress placement system without 
significantly raising the error rate. Our Russian Constraint Grammar is
under continual development, so we expect higher accuracy in the future.

The experiment was limited by properties of the gold standard corpus, including
its size, genre distribution, and quality. Ideally, a gold standard corpus for Russian wordstress should mark 
whether monosyllabic words are stressed, and of course its annotations should
be accurate. Our gold corpus represents a broad variety of text genres, which 
makes our results more generalizable, but a larger corpus would allow for
evaluating each genre individually. For example, the vast majority of words with
shifting stress are of Slavic origins, so we expect a genre such as technical
writing to have a lower proportion of words with stress ambiguity, since it
uses a more modern lexicon that has not inherited the idiosyncrasies that lead
to wordstress ambiguity.

In addition to genre, it seems likely that text
complexity affects the difficulty of the stress placement task, so subcorpora at
various reading levels would shed light on those interactions as well.

The syllable-guessing algorithm used in this experiment was overly simplistic,
and it was not surprising that it was 

Future work/potential applications:
Two sections: known words and unknown words
\begin{itemize}
\item As with any lexicon- and rule-based system, those components can be expanded and improved, especially considering the short span over which they were developed.
\item Integrate a more principled unknown word-guessing method (homicevic)
\item Compare and/or integrate with stochastic methods. So far stochastic
methods have only been used for guessing stress on unknown words.
\item Another relevant issue is whether the ambiguity can be resolved at all. For example, when is stress marked in authentic by-native-for-native texts? A computer should not be expected to predict the stress on such words (although a computer could possibly identify words that should be marked for 
natives.)

\end{itemize}
%\section*{Acknowledgments}
%
%Do not number the acknowledgment section. Do not include this section
%when submitting your paper for review.

\bibliographystyle{acl}
\bibliography{rusaccent}

\end{document}
