\documentclass[a4paper,11pt, onecolumn,twoside]{article}

\usepackage{turklang}


%%%%% Language and font stuff %%%%%

\usepackage{polyglossia}
\setdefaultlanguage[variant=australian]{english}

\usepackage{fontspec}
\usepackage{xunicode}

%\usepackage{times}
\setmainfont{Times New Roman}
\newfontfamily\ll[]{Linux Libertine O}
\newfontfamily\udfont[Scale=1.3,Letters=SmallCaps]{Linux Libertine O}


%%%%% General formatting stuff %%%%%

\usepackage{multirow}
\usepackage[small,bf]{caption} % CHECK IF THIS IS OK
\usepackage[colorlinks=true,citecolor=black,linkcolor=black,urlcolor=blue]{hyperref}

\usepackage{subcaption}
\usepackage{booktabs}

%\usepackage{natbib}
%\bibdata{paper}
%\usepackage[backend=bibtex]{biblatex}
\usepackage[backend=biber,citestyle=apa,style=authoryear,maxbibnames=99,maxcitenames=1]{biblatex}
\bibliography{paper}
\renewcommand*{\nameyeardelim}{\addcomma\space}


%%%%% Stuff for this paper %%%%%
\usepackage{tikz-dependency}
\newcommand{\gmk}[1]{\texttt{#1}}
\newcommand{\gloss}[1]{{\em #1}}
\newcommand{\tag}[1]{\texttt{‹#1›}}
%\newcommand{\udtag}[1]{\texttt{@#1}}
\newcommand{\udtag}[1]{{\ll \textsc{#1}}}
\newcommand{\udlabel}[1]{{\udfont #1}}
%\newcommand{\corrauthor}[1]{\footnotemark\footnotetext{hargle}}


%%%%% Paper metadata %%%%%

\title{Towards a free/open-source universal-dependency treebank for Kazakh}
\name{Francis M. Tyers$^a$ and Jonathan Washington$^b$}
\shortauthor{Tyers \& Washington}
\address{$^a$ HSL-fakultehta, UiT Norgga árktalaš universitehta, N-9015 Tromsø, Norway\\
	$^b$ Departments of Linguistics and Central Eurasian Studies, Indiana University, Bloomington, IN 47405, USA\footnote{Corresponding author.  E-mail address: jonwashi@indiana.edu}}

\keywords{Kazakh; treebank; dependency grammar; universal dependency}

%250-300-word ``extended abstract in English''
\abstract{
This article describes the first steps towards a free/open-source dependency treebank for Kazakh based on universal dependency (UD) annotation standards. The treebank contains 302 sentences and is based on texts from a range of open-source and public domain sources. This ensures its free availability and extensibility. Texts in the treebank are first morphologically analysed and disambiguated and then annotated manually for dependency structure. 
}


%%%%% End preamble %%%%%

\begin{document}

%\thanks{hargle}
\maketitleabstract{}
\thispagestyle{firststyle}

\section{Introduction}

This article describes the work towards the development of a dependency treebank for Kazakh, a
Turkic language spoken in Central Asia.
Despite its status as a \emph{core} Turkic
language, little computational-linguistic research has been published on syntactic
parsing for Kazakh.
A valuable resource in the study of syntactic parsing is
a treebank---a corpus of parsed text containing gold-standard syntactic annotation.

Freely available treebanks exist for many languages, such as large languages like Finnish (x,y) 
and Polish (xxx) and smaller languages like Irish \parencite{Lynn12}. To our knowledge only one treebank
exists for another language, Turkish \parencite{Oflazer03}, which is unfortunately not freely available.

In building our treebank we take advantage of existing work done on tokenisation,
morphological analysis and part-of-speech tagging for Kazakh. We also take a pragmatic
and iterative view of development of the treebank, in line with recent work 
on cross-linguistic parsing with universal dependencies \parencite{DeMarneffe14}.

The remainder of the paper is organised as follows. Section~\ref{sec:back} gives some
background linguistic information on Kazakh, and outlines some special challenges in
parsing Kazakh. In Section~\ref{sec:method} we describe the corpus itself and methodology
used in annotating it. Section~\ref{sec:annotation} gives a sketch of some decisions
we have made with respect to annotation guidelines, referring back to the discussion in
Section~\ref{sec:back}. For reasons of space, these guidelines are not complete, but
present a subset of guidelines which are of particular interest. A small experiment
in statistical dependency parsing using the corpus is presented in Section~\ref{sec:eval},
and in Sections~\ref{sec:future} and \ref{sec:conclusions} we give perspectives
for future work and some concluding remarks.

%\textcite{Atalay03}

\section{Background}

\subsection{Kazakh}\label{sec:kazakh}

Kazakh (қазақ тілі), a Turkic language of Central Asia, is spoken by around 13 million people in Kazakhstan, China, Mongolia, and adjacent areas \parencite{ethnologue}.  While works like \textcite{Balaqayev54} provide decent syntactic descriptions of the language, there is little to no work on the syntax of Kazakh within modern theoretical syntactic frameworks (though work on related languages, such as Turkish, exists).

As an agglutinative language with rich morphology and agreement phenomena, Kazakh presents some interesting challenges for computational syntax.  A morphological transducer has already been designed \parencite{Washington14}, which implements a number of decisions about how various inflectional morphemes affect the part of speech and syntactic function of various word forms.  These decisions include how the relations ``case'' morphemes create between syntactic elements work, as well as a number of processes of ``zero derivation''.

All of the traditionally defined ``cases'' in Kazakh have a variety of uses.  The morphemes that mark the accusative and genitive cases are only used when the noun phrase is semantically definite (e.g., үйді \gloss{the house} \gmk{acc}, үйдің \gloss{of the house} \gmk{gen}).  This means that indefinite accusative and genitive as well as nominative noun phrases are all unmarked for case, and hence are all ambiguous (e.g., үй \gloss{house}).  The Kazakh transducer marks these all as \tag{nom}, but their use may be disambiguated.  Besides identifying the semantic role of an unmarked noun phrase, there are various agreement properties that make it clear what ``case'' the noun phrase ``truly'' receives: genitive noun phrases must have a corresponding noun phrase with possessive morphology that agrees in person with the genitive noun phrase; and truly nominative noun phrases must have a corresponding predicate that agrees in person with the nominative noun phrase---e.g., a verb or a copula.

Another category that may also be non-overt is the copula.  In the present tense, all but third person copulas have realised forms (e.g., Мен үйде\textbf{мін}. \gloss{I'm at home.}), but the third person copula does not surface (e.g., Ол үйде. \gloss{S/he's at home.}).

Another type of ``zero-derivation'' involves the use of adjectives and nouns.  In Kazakh, adjectives are all attributive, but many may also be used either nominally (i.e., as nouns) or adverbially (i.e., as adverbs), or both.  The morphological transducer internally provides a series of classes; depending on class membership, an adjective may receive the readings \tag{adj}\tag{advl} or \tag{adj}\tag{subst}, besides the default attributive reading of \tag{adj}.  If an adjective may be used substantivally, then it will receive a range of substantive morphology as well.  Similarly, many nouns may be used attributively, besides the default substantive reading.  Besides the nominative (and indefinite accusative/genitive) reading of \tag{nom}, the transducer provides an attributive reading for most nominals of \tag{nom}\tag{attr}.

How each of these issues bears on a dependency analysis will be discussed in section~\ref{sec:annotation}.

% case and function
%% indefinite acc/gen = "nom"
%% attr/subst/advl function of cases
% "zero" derivation
%% attr/subst/etc.
%% copulas?

\subsection{Treebanks} % Related work

% what are treebanks used for ?

\section{Methodology}

\subsection{Corpus}

\begin{table}[htbp]
  \centering
\begin{small}
  \begin{tabular}{llrrr}
    \toprule
	    \textbf{Document} & \textbf{Description} & \textbf{Sentences} & \textbf{Tokens} & \textbf{Avg. length}\\
    \midrule
	    UN Declaration on Human Rights & Legal text on human rights & 25 & 409 & 16.3 \\
	    Phrasebook                     & Phrases from Wikitravel   & 37 & 205 & 5.5 \\
	    Жиырма Бесінші Сөз             & Philosophical text        & 34 & 525 & 15.4 \\ 
	    Қожанасырдың тойға баруы       & Folk tale from Wikisource  & 8 & 140 & 17.5 \\
	    Ер Төстік                      & Folk tale from Wikisource  & 23 & 203 & 8.8 \\
	    Азамат қайда?                  & Story for language learners & 48 & 434 & 9.0 \\
	    Футболдан әлем чемпионаты 2014 & Wikipedia article (2014 World Cup) & 14 & 246 & 17.5 \\
	    Иран & Wikipedia article (Iran)                                & 111 & 1562 & 14.0 \\
	    Радиан & Wikipedia article (Radian)                            & 2 & 17 & 8.5 \\
    \midrule
	    \multicolumn{2}{c}{~} & 302 & 3741 & 12.3 \\\cmidrule[\heavyrulewidth]{3-5}
  \end{tabular}
\end{small}
  \caption{Composition of the corpus. The corpus covers a range of genres and text types from 
    free and public-domain sources.}
\end{table}


\subsection{Preprocessing}

Preprocessing the corpus consists of running the text through the Kazakh morphological
analyser \parencite{Washington14}, which also performs tokenisation of multiword units based 
the longest match left-to-right. Tokenisation for Kazakh is a non-trivial task, and so
we do not simply take space as a delimiter. The morphological analyser returns all 
the possible morphological analyses for each word based on a lexicon of around 20,000 lexemes.
After tokenisation and morphological analysis, the text is processed with a constraint-grammar 
based disambiguator for Kazakh consisting of 113 rules which remove inappropriate 
analyses in context. This reduces the average number of analyses per word from around 3.4
to around 1.7.

% tokenisation
% http://universaldependencies.github.io/docs/u/overview/tokenization.html

\subsubsection{Tokens and words}

% simple tokens
% multiword units
% copula
% clitics
% productive suffixes -lı (cite wafflelazor)

\section{Annotation guidelines}\label{sec:annotation}

% general procedure

% - disambiguate
% - annotate
% - check the tree structure
% - fix errors
% - check for label consistency
% - fix errors

\begin{table}[htbp]
	\centering
	\begin{tabular}{ll}
		\toprule
		\textbf{Label} & \textbf{Description} \\
		\midrule
				\\
 		\bottomrule
	\end{tabular}
	\caption{Universal dependency label set}
\end{table}

\subsection{Copula}

\begin{figure}[htbp]
	\centering

	\begin{subfigure}[b]{0.3\textwidth}
		\centering
		\begin{dependency}[theme = simple, font = \small]
		   \begin{deptext}[column sep=0.3cm]
				Айгүл \& студент \& · \\
				\gmk{np} \& \gmk{n} \& \gmk{cop} \\
				\gloss{Aygül} \& \gloss{student} \& \gloss{is} \\
			\end{deptext}
			\depedge{2}{1}{\udlabel{subj}}
			\depedge{3}{2}{\udlabel{cop}}
		\end{dependency}
		\caption{xxx }\label{fig:compound}
	\end{subfigure}
	\quad
	\begin{subfigure}[b]{0.3\textwidth}
		\centering
		\begin{dependency}[theme = simple, font = \small]
		   \begin{deptext}[column sep=0.3cm]
				Айгүл \& студент \& - \\
				\gmk{np} \& \gmk{-} \& \gmk{-} \\
				\gloss{Aygül} \& \gloss{-} \& \gloss{-}\\
			\end{deptext}
			\depedge{3}{2}{\udlabel{cop}}
		\end{dependency}
		\caption{xxx.}\label{fig:cop2}
	\end{subfigure}
	\quad
	\begin{subfigure}[b]{0.3\textwidth}
		\centering
		\begin{dependency}[theme = simple, font = \small]
		   \begin{deptext}[column sep=0.3cm]
				Айгүл   \& - \& - \\
				\gmk{n} \& \gmk{-} \& \gmk{-} \& \\
				\gloss{Aygül} \& \gloss{-} \& \gloss{-} \\
			\end{deptext}
			\depedge{3}{2}{\udlabel{cop}}
		\end{dependency}
		\caption{xxx.}\label{fig:cop3}
	\end{subfigure}

	\caption{Dependency trees of copula constructions.}
\end{figure}




\subsection{Coordination}

\begin{figure}[htbp]
    \centering

	\begin{dependency}[theme = simple, font = \small]
	   \begin{deptext}[column sep=0.08cm]
%               1         2         3          4              5                6              7                8           9             10
             Барлық \& адамдар \& тумысынан \& азат      \& және         \& қадір-қасиеті \& мен          \& құқықтары  \& тең       \& болып     \& дүниеге \& келеді \\
                    \&         \&           \& \gmk{adj} \& \gmk{cnjcoo} \& \gmk{n}       \& \gmk{cnjcoo} \& \gmk{n.pl} \& \gmk{adj} \& \gmk{cop} \& \& \\
                    \&         \&           \& \gloss{free} \& \gloss{and}  \& \gloss{dignity}  \&  \gloss{and} \& \gloss{rights} \&  \gloss{equal} \& \gloss{being} \& \& \\
		\end{deptext}
		\depedge{9}{4}{\udlabel{conj}}
		\depedge{9}{5}{\udlabel{cc}}
		\depedge{8}{6}{\udlabel{conj}}
		\depedge{8}{7}{\udlabel{cc}}
		\depedge{9}{8}{\udlabel{subj}}
		\depedge{10}{9}{\udlabel{cop}}
		\depedge{12}{10}{\udlabel{advcl}}
	\end{dependency}
	\caption{Coordination}\label{fig:coord}
	
\end{figure}

\subsection{Complex nominals}

% compounds + izafet

There are different ways in which two nominals may occur together to act as a single nominal.  Compounds are formed by an attributive nominal (indistinguishable from the bare / nominative form, but tagged with \tag{attr}) preceding another nominal, as shown in \ref{fig:compound}.  An indefinite genitive construction is formed by an indefinite genitive nominal (indistinguishable from the bare / nominative form, and tagged with \tag{nom}) preceding a nominal that has third-person possessive morphology, as shown in \ref{fig:indefgen}.  A definite genetive construction is formed by a genitive-marked nominal (tagged \tag{gen}) precding a nominal that has third-person possessive morphology, as shown in \ref{fig:defgen}.

%One example of this is indefinite genitives.  In such constructions, a ``modifying'' nominal is morphologically not marked (which means it will be tagged as \tag{nom}, as discussed in §\ref{sec:kazakh}), though should be considered an indefinite genitive.  The modified element is a nominal with third-person possessive morphology, an example of which is provide in figure~\ref{fig:indefgen}.

\begin{figure}[htbp]
	\centering

	\begin{subfigure}[b]{0.3\textwidth}
		\centering
		\begin{dependency}[theme = simple, font = \small]
		   \begin{deptext}[column sep=0.3cm]
				көрші \& елдер \\
				\gmk{n.attr} \& \gmk{n.pl.nom} \\
				\gloss{neighbour} \& \gloss{countries} \\
			\end{deptext}
			\depedge{2}{1}{\udlabel{compound}}
		\end{dependency}
		\caption{Compounding: an attributive nominal depending on a nominal.}\label{fig:compound}
	\end{subfigure}
	\quad
	\begin{subfigure}[b]{0.3\textwidth}
		\centering
		\begin{dependency}[theme = simple, font = \small]
		   \begin{deptext}[column sep=0.3cm]
				әлем \& чемпионаты \\
				\gmk{n.nom} \& \gmk{n.px3sg.nom} \\
				\gloss{world} \& \gloss{championship} \\
			\end{deptext}
			\depedge{2}{1}{\udlabel{nmod}}
		\end{dependency}
		\caption{Indefinite genitive: An indefinite genitive depending on a nominal.}\label{fig:indefgen}
	\end{subfigure}
	\quad
	\begin{subfigure}[b]{0.3\textwidth}
		\centering
		\begin{dependency}[theme = simple, font = \small]
		   \begin{deptext}[column sep=0.3cm]
				Иранның \& экономиясы \\
				\gmk{n.gen} \& \gmk{n.px3sg.nom} \\
				\gloss{Iran's} \& \gloss{economy} \\
			\end{deptext}
			\depedge{2}{1}{\udlabel{nmod}}
		\end{dependency}
		\caption{Definite genitive: A definite genitive depending on a nominal.}\label{fig:defgen}
	\end{subfigure}

	\caption{Dependency trees of complex nominal relations.}
\end{figure}

As seen in the graphs, the compound relationship of an attributive nominal depending on another nominal is labelled \udtag{compound}, and genitive relations are considered \udtag{nmod}, regardless of whether there is a definite or indefinite genitive construction.


\subsection{Non-finite clauses}

% verbal adjectives → acl
% verbal nouns (gerunds) → ccomp, no xcomp
% verbal adverbs → advlc
% * gna_cnd? → advlc?

\section{Evaluation}

In order to test the utility of the treebank in a real-world setting, we trained
and evaluated a number of models using the popular MaltParser tool \parencite{nivre07}.
MaltParser is a toolkit for data-driven dependency parsing, it can learn a parsing
model from treebank data and apply this model to parse unseen sentences. The parser
has a large number of options and parameters that need to be optimised. 
To select the best parser configuration we relied on 
MaltOptimiser \parencite{ballesteros15}. The optimiser was run separately for each of 
the model configurations.

As the treebank takes advantage of the new tokenisation standards in the CoNLL-U format,
and MaltParser only supports CoNLL-X, certain transformations were needed to perform 
the experiments. The corpus was flattened with conjoined tokens receiving a dummy 
surface form. The converted corpus is available alongside the original.\footnote{\url{removed for review}}

% system1:
% nivreeager
% LAS: 0.3341 [0.234 0.288 0.289 0.292 0.333 0.335 0.359 0.378 0.408 0.425]
% UAS: 0.5093 [0.413 0.464 0.465 0.466 0.474 0.499 0.531 0.545 0.604 0.632]

% system2:
% nivreeager
% LAS: 0.234+0.288+0.289+0.292+0.333+0.335+0.359+0.378+0.408+0.425
% UAS: 0.413+0.464+0.465+0.466+0.474+0.499+0.531+0.545+0.604+0.632

% system3:
% nivreeager
% LAS: 0.5529 [0.434 0.446 0.501 0.511 0.515 0.542 0.558 0.572 0.7 0.75]
% UAS: 0.7376 [0.658 0.669 0.675 0.684 0.694 0.723 0.751 0.776 0.825 0.921]

% system4:
% covnonproj
% LAS: 0.6092 [0.519 0.535 0.544 0.569 0.569 0.62 0.621 0.649 0.683 0.783]
% UAS: 0.7575 [0.674 0.686 0.69 0.714 0.727 0.746 0.795 0.803 0.812 0.928]

%             [0.434+0.446+0.501+0.511+0.515+0.542+0.558+0.572+0.7+0.75]
%             [0.658+0.669+0.675+0.684+0.694+0.723+0.751+0.776+0.825+0.921]

\begin{table}[htbp]
	\centering
	\begin{tabular}{llrr}
		\toprule
			\textbf{Features}       & \textbf{Algorithm} &\textbf{LAS} [range] & \textbf{UAS} [range] \\
		\midrule
			surface                & nivreeager  & 33.4 [23.4, 42.5] & 50.9 [41.3, 63.2] \\
			surface+lemma          & nivreeager  & 33.4 [23.4, 42.5] & 50.9 [41.3, 63.2] \\
			surface+lemma+POS      & nivreeager  & 55.2 [43.4, 75.0] & 73.7 [65.8, 92.1] \\
			surface+lemma+POS+MSD  & nivreeager  & 55.2 [43.4, 75.0] & 73.7 [65.8, 92.1] \\
		\bottomrule
	\end{tabular}
	\caption{Preliminary parsing results from MaltParser using different models. The numbers in brackets denote the upper and lower bounds found during cross validation. Adding structural features to the model substantially improves the performance of the parser, although we find no improvement in using full morphosyntactic description (MSD) over using simply the first part-of-speech (POS) tag.}
	\label{table:eval}
\end{table}

To perform 10-fold cross validation we randomised the order of sentences in the corpus
and split it into 10 equally-sized parts. In each iteration we held out one part for testing and used
the rest for training. We calculated the labelled-attachment score (LAS) and 
unlabelled-attachment score (UAS) for each of the models.

The results we obtain are similar to those obtained with similar 
sized treebanks, for example the Irish treebank of \textcite{Lynn12}, who report an LAS of
63.3 and a UAS of 73.3 with the best model.


\section{Future work}

%stabilise guidelines

%crosslingual parsing: Tatar, Kumyk, Kyrgyz, Tuvan

%language-specific dependency relations --- (acl:relcl, ...)

\section{Conclusions}

\section*{Acknowledgements}

%Tolgonay?, Aida?

%\bibliographystyle{apalike}
%\bibliography{paper}
\printbibliography

\end{document}
